#!/usr/bin/perl

($progname = $0) =~ s,.*/,,;

print "/* This file is autogenerated by $progname */\n";

print "typedef char*(*PFUNC)(PSTATE*, char *beg, char *end, SV* cbdata);\n";
print "static PFUNC html_parsefunc[] = {\n";

for my $c (0..255) {
    local $_ = chr($c);
    my $func = "null";
    if (/\A[A-Za-z]\z/) {
	$func = "start";
    }
    elsif ($_ eq "/") {
	$func = "end";
    }
    elsif ($_ eq "!") {
	$func = "decl";
    }
    elsif ($_ eq "?") {
	$func = "process";
    }
    printf "  %-20s /* %3d */\n", "html_parse_$func,", $c;
}

print "};\n";



